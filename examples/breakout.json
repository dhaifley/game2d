{
  "w": 640,
  "h": 480,
  "id": "b5afa75a-4076-4d6e-a6f1-db8f893298cf",
  "previous_id": "8d516711-1d0a-408f-add8-150dd2c752c7",
  "name": "Breakout",
  "description": "Classic Breakout game. Use LEFT/RIGHT arrow keys or A/D keys to move the paddle. Press SPACE to launch the ball. Break all the bricks to win. You have 3 lives.",
  "icon": "PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NCA2NCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0Ij4KICA8cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiMwMDAwMzMiIHJ4PSI4IiByeT0iOCIvPgogIDxnIGZpbGw9IiMwMEFBRkYiPgogICAgPHJlY3QgeD0iMTIiIHk9IjEyIiB3aWR0aD0iNDAiIGhlaWdodD0iOCIgcng9IjIiIHJ5PSIyIi8+CiAgICA8cmVjdCB4PSIxMiIgeT0iMjQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI4IiByeD0iMiIgcnk9IjIiLz4KICAgIDxyZWN0IHg9IjEyIiB5PSIzNiIgd2lkdGg9IjQwIiBoZWlnaHQ9IjgiIHJ4PSIyIiByeT0iMiIvPgogICAgPGNpcmNsZSBjeD0iMzIiIGN5PSI1MCIgcj0iNCIgZmlsbD0iI0ZGRkZGRiIvPgogICAgPHJlY3QgeD0iMjAiIHk9IjU4IiB3aWR0aD0iMjQiIGhlaWdodD0iNCIgcng9IjIiIHJ5PSIyIi8+CiAgPC9nPgo8L3N2Zz4=",
  "status": "active",
  "source": "app",
  "subject": {
    "id": "paddle",
    "name": "Paddle",
    "hidden": false,
    "subject": true,
    "x": 280,
    "y": 440,
    "z": 1,
    "r": 0,
    "w": 80,
    "h": 20,
    "image": "paddle"
  },
  "objects": {
    "background": {
      "id": "background",
      "name": "Background",
      "hidden": false,
      "x": 0,
      "y": 0,
      "z": 0,
      "r": 0,
      "w": 640,
      "h": 480,
      "image": "background"
    },
    "ball": {
      "id": "ball",
      "name": "Ball",
      "hidden": false,
      "x": 312,
      "y": 424,
      "z": 2,
      "r": 0,
      "w": 16,
      "h": 16,
      "image": "ball"
    }
  },
  "images": {
    "background": {
      "id": "background",
      "name": "background.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjY0MCIgaGVpZ2h0PSI0ODAiIHZpZXdCb3g9IjAgMCA2NDAgNDgwIiB2ZXJzaW9uPSIxLjEiPgogIDxyZWN0IHN0eWxlPSJmaWxsOiMwMDAwMDA7c3Ryb2tlOm5vbmUiIHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIiB4PSIwIiB5PSIwIiAvPgo8L3N2Zz4="
    },
    "ball": {
      "id": "ball",
      "name": "ball.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSI+CiAgPGNpcmNsZSBzdHlsZT0iZmlsbDojZmZmZmZmO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDowIiBjeD0iOCIgY3k9IjgiIHI9IjciIC8+Cjwvc3ZnPg=="
    },
    "brick_blue": {
      "id": "brick_blue",
      "name": "brick_blue.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjYwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgNjAgMjAiIHZlcnNpb249IjEuMSI+CiAgPHJlY3Qgc3R5bGU9ImZpbGw6IzQ0NDRkZDtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MSIgd2lkdGg9IjU4IiBoZWlnaHQ9IjE4IiB4PSIxIiB5PSIxIiByeD0iMiIgcnk9IjIiIC8+Cjwvc3ZnPg=="
    },
    "brick_green": {
      "id": "brick_green",
      "name": "brick_green.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjYwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgNjAgMjAiIHZlcnNpb249IjEuMSI+CiAgPHJlY3Qgc3R5bGU9ImZpbGw6IzQ0ZGQ0NDtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MSIgd2lkdGg9IjU4IiBoZWlnaHQ9IjE4IiB4PSIxIiB5PSIxIiByeD0iMiIgcnk9IjIiIC8+Cjwvc3ZnPg=="
    },
    "brick_orange": {
      "id": "brick_orange",
      "name": "brick_orange.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjYwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgNjAgMjAiIHZlcnNpb249IjEuMSI+CiAgPHJlY3Qgc3R5bGU9ImZpbGw6I2RkYWE0NDtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MSIgd2lkdGg9IjU4IiBoZWlnaHQ9IjE4IiB4PSIxIiB5PSIxIiByeD0iMiIgcnk9IjIiIC8+Cjwvc3ZnPg=="
    },
    "brick_purple": {
      "id": "brick_purple",
      "name": "brick_purple.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjYwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgNjAgMjAiIHZlcnNpb249IjEuMSI+CiAgPHJlY3Qgc3R5bGU9ImZpbGw6I2FhNDRkZDtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MSIgd2lkdGg9IjU4IiBoZWlnaHQ9IjE4IiB4PSIxIiB5PSIxIiByeD0iMiIgcnk9IjIiIC8+Cjwvc3ZnPg=="
    },
    "brick_red": {
      "id": "brick_red",
      "name": "brick_red.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjYwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgNjAgMjAiIHZlcnNpb249IjEuMSI+CiAgPHJlY3Qgc3R5bGU9ImZpbGw6I2RkNDQ0NDtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MSIgd2lkdGg9IjU4IiBoZWlnaHQ9IjE4IiB4PSIxIiB5PSIxIiByeD0iMiIgcnk9IjIiIC8+Cjwvc3ZnPg=="
    },
    "paddle": {
      "id": "paddle",
      "name": "paddle.svg",
      "w": 0,
      "h": 0,
      "data": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjgwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgODAgMjAiIHZlcnNpb249IjEuMSI+CiAgPHJlY3Qgc3R5bGU9ImZpbGw6IzQ0ODhhYTtzdHJva2U6I2ZmZmZmZjtzdHJva2Utd2lkdGg6MiIgd2lkdGg9Ijc4IiBoZWlnaHQ9IjE4IiB4PSIxIiB5PSIxIiByeD0iNSIgcnk9IjUiIC8+Cjwvc3ZnPg=="
    }
  },
  "script": "ZnVuY3Rpb24gVXBkYXRlKGdhbWUpCiAgICAtLSBJbml0aWFsaXplIGdhbWUKICAgIGlmIGdhbWUuc3ViamVjdC5kYXRhID09IG5pbCBvciBnYW1lLnN1YmplY3QuZGF0YS5zdGF0ZSA9PSBuaWwgdGhlbgogICAgICAgIGdhbWUuc3ViamVjdC5kYXRhID0gewogICAgICAgICAgICBzdGF0ZSA9ICJzdGFydCIsIC0tIHN0YXJ0LCBwbGF5aW5nLCBnYW1lb3Zlciwgd2luCiAgICAgICAgICAgIHNjb3JlID0gMCwKICAgICAgICAgICAgbGl2ZXMgPSAzLAogICAgICAgICAgICBwYWRkbGVfc3BlZWQgPSA3LAogICAgICAgICAgICBiYWxsX3NwZWVkID0gNCwKICAgICAgICAgICAgYmFsbF9keCA9IDAsCiAgICAgICAgICAgIGJhbGxfZHkgPSAwLAogICAgICAgICAgICBicmlja3NfdG90YWwgPSA1MCwgLS0gNSByb3dzIHggMTAgY29sdW1ucwogICAgICAgICAgICBicmlja3NfYnJva2VuID0gMAogICAgICAgIH0KICAgIGVuZAoKICAgIC0tIENyZWF0ZSBicmlja3MgaWYgdGhleSBkb24ndCBleGlzdAogICAgaWYgZ2FtZS5vYmplY3RzLmJyaWNrXzFfMSA9PSBuaWwgdGhlbgogICAgICAgIENyZWF0ZUJyaWNrcyhnYW1lKQogICAgZW5kCiAgICAKICAgIC0tIEhhbmRsZSBnYW1lIHN0YXRlCiAgICBpZiBnYW1lLnN1YmplY3QuZGF0YS5zdGF0ZSA9PSAic3RhcnQiIHRoZW4KICAgICAgICAtLSBIYW5kbGUgc3RhcnQgc3RhdGUKICAgICAgICBNb3ZlUGFkZGxlKGdhbWUpCiAgICAgICAgCiAgICAgICAgLS0gUG9zaXRpb24gYmFsbCBvbiBwYWRkbGUKICAgICAgICBnYW1lLm9iamVjdHMuYmFsbC54ID0gZ2FtZS5zdWJqZWN0LnggKyAoZ2FtZS5zdWJqZWN0LncgLyAyKSAtIDgKICAgICAgICBnYW1lLm9iamVjdHMuYmFsbC55ID0gZ2FtZS5zdWJqZWN0LnkgLSAxNgogICAgICAgIAogICAgICAgIC0tIFN0YXJ0IGdhbWUgb24gc3BhY2UgcHJlc3MKICAgICAgICBpZiBJc0tleVByZXNzZWQoZ2FtZS5rZXlzLCAxMTYpIHRoZW4gLS0gU3BhY2UKICAgICAgICAgICAgZ2FtZS5zdWJqZWN0LmRhdGEuc3RhdGUgPSAicGxheWluZyIKICAgICAgICAgICAgZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9keCA9IGdhbWUuc3ViamVjdC5kYXRhLmJhbGxfc3BlZWQKICAgICAgICAgICAgZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9keSA9IC1nYW1lLnN1YmplY3QuZGF0YS5iYWxsX3NwZWVkCiAgICAgICAgZW5kCiAgICBlbHNlaWYgZ2FtZS5zdWJqZWN0LmRhdGEuc3RhdGUgPT0gInBsYXlpbmciIHRoZW4KICAgICAgICAtLSBIYW5kbGUgcGxheWluZyBzdGF0ZQogICAgICAgIE1vdmVQYWRkbGUoZ2FtZSkKICAgICAgICBNb3ZlQmFsbChnYW1lKQogICAgICAgIENoZWNrQ29sbGlzaW9ucyhnYW1lKQogICAgICAgIAogICAgICAgIC0tIENoZWNrIGlmIGJhbGwgaXMgbG9zdAogICAgICAgIGlmIGdhbWUub2JqZWN0cy5iYWxsLnkgPiA0ODAgdGhlbgogICAgICAgICAgICBnYW1lLnN1YmplY3QuZGF0YS5saXZlcyA9IGdhbWUuc3ViamVjdC5kYXRhLmxpdmVzIC0gMQogICAgICAgICAgICBpZiBnYW1lLnN1YmplY3QuZGF0YS5saXZlcyA8PSAwIHRoZW4KICAgICAgICAgICAgICAgIGdhbWUuc3ViamVjdC5kYXRhLnN0YXRlID0gImdhbWVvdmVyIgogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBnYW1lLnN1YmplY3QuZGF0YS5zdGF0ZSA9ICJzdGFydCIKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICAgICAgCiAgICAgICAgLS0gQ2hlY2sgaWYgYWxsIGJyaWNrcyBhcmUgYnJva2VuCiAgICAgICAgaWYgZ2FtZS5zdWJqZWN0LmRhdGEuYnJpY2tzX2Jyb2tlbiA+PSBnYW1lLnN1YmplY3QuZGF0YS5icmlja3NfdG90YWwgdGhlbgogICAgICAgICAgICBnYW1lLnN1YmplY3QuZGF0YS5zdGF0ZSA9ICJ3aW4iCiAgICAgICAgZW5kCiAgICBlbHNlaWYgZ2FtZS5zdWJqZWN0LmRhdGEuc3RhdGUgPT0gImdhbWVvdmVyIiBvciBnYW1lLnN1YmplY3QuZGF0YS5zdGF0ZSA9PSAid2luIiB0aGVuCiAgICAgICAgLS0gUmVzdGFydCBnYW1lIG9uIHNwYWNlIHByZXNzCiAgICAgICAgaWYgSXNLZXlQcmVzc2VkKGdhbWUua2V5cywgMTE2KSB0aGVuIC0tIFNwYWNlCiAgICAgICAgICAgIFJlc2V0R2FtZShnYW1lKQogICAgICAgIGVuZAogICAgZW5kCiAgICAKICAgIHJldHVybiBnYW1lCmVuZAoKZnVuY3Rpb24gQ3JlYXRlQnJpY2tzKGdhbWUpCiAgICBsb2NhbCBicmlja193ID0gNjAKICAgIGxvY2FsIGJyaWNrX2ggPSAyMAogICAgbG9jYWwgcGFkZGluZyA9IDQKICAgIGxvY2FsIHJvd3MgPSA1CiAgICBsb2NhbCBjb2xzID0gMTAKICAgIGxvY2FsIHN0YXJ0X3ggPSAoNjQwIC0gKChjb2xzICogYnJpY2tfdykgKyAoKGNvbHMtMSkgKiBwYWRkaW5nKSkpIC8gMgogICAgbG9jYWwgc3RhcnRfeSA9IDYwCiAgICAKICAgIGxvY2FsIGNvbG9ycyA9IHsiYnJpY2tfcmVkIiwgImJyaWNrX29yYW5nZSIsICJicmlja19ncmVlbiIsICJicmlja19ibHVlIiwgImJyaWNrX3B1cnBsZSJ9CiAgICAKICAgIGZvciByb3cgPSAxLCByb3dzIGRvCiAgICAgICAgbG9jYWwgY29sb3IgPSBjb2xvcnNbcm93XQogICAgICAgIGZvciBjb2wgPSAxLCBjb2xzIGRvCiAgICAgICAgICAgIGxvY2FsIGJyaWNrX2lkID0gImJyaWNrXyIgLi4gcm93IC4uICJfIiAuLiBjb2wKICAgICAgICAgICAgbG9jYWwgYnJpY2tfeCA9IHN0YXJ0X3ggKyAoKGNvbC0xKSAqIChicmlja193ICsgcGFkZGluZykpCiAgICAgICAgICAgIGxvY2FsIGJyaWNrX3kgPSBzdGFydF95ICsgKChyb3ctMSkgKiAoYnJpY2tfaCArIHBhZGRpbmcpKQogICAgICAgICAgICAKICAgICAgICAgICAgZ2FtZS5vYmplY3RzW2JyaWNrX2lkXSA9IHsKICAgICAgICAgICAgICAgIGlkID0gYnJpY2tfaWQsCiAgICAgICAgICAgICAgICBuYW1lID0gIkJyaWNrIiwKICAgICAgICAgICAgICAgIGhpZGRlbiA9IGZhbHNlLAogICAgICAgICAgICAgICAgeCA9IGJyaWNrX3gsCiAgICAgICAgICAgICAgICB5ID0gYnJpY2tfeSwKICAgICAgICAgICAgICAgIHogPSAxLAogICAgICAgICAgICAgICAgdyA9IGJyaWNrX3csCiAgICAgICAgICAgICAgICBoID0gYnJpY2tfaCwKICAgICAgICAgICAgICAgIHIgPSAwLAogICAgICAgICAgICAgICAgaW1hZ2UgPSBjb2xvciwKICAgICAgICAgICAgICAgIGRhdGEgPSB7fQogICAgICAgICAgICB9CiAgICAgICAgZW5kCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBNb3ZlUGFkZGxlKGdhbWUpCiAgICBsb2NhbCBtb3ZlID0gMAogICAgCiAgICAtLSBDaGVjayBmb3IgbGVmdC9yaWdodCBpbnB1dAogICAgaWYgZ2FtZS5rZXlzIH49IG5pbCB0aGVuCiAgICAgICAgZm9yIF8sIGsgaW4gcGFpcnMoZ2FtZS5rZXlzKSBkbwogICAgICAgICAgICBpZiBrID09IDAgb3IgayA9PSAyOSB0aGVuIC0tIEEgb3IgTGVmdCBBcnJvdwogICAgICAgICAgICAgICAgbW92ZSA9IG1vdmUgLSBnYW1lLnN1YmplY3QuZGF0YS5wYWRkbGVfc3BlZWQKICAgICAgICAgICAgZWxzZWlmIGsgPT0gMyBvciBrID09IDMwIHRoZW4gLS0gRCBvciBSaWdodCBBcnJvdwogICAgICAgICAgICAgICAgbW92ZSA9IG1vdmUgKyBnYW1lLnN1YmplY3QuZGF0YS5wYWRkbGVfc3BlZWQKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgLS0gTW92ZSBwYWRkbGUKICAgIGdhbWUuc3ViamVjdC54ID0gZ2FtZS5zdWJqZWN0LnggKyBtb3ZlCiAgICAKICAgIC0tIEtlZXAgcGFkZGxlIHdpdGhpbiBzY3JlZW4gYm91bmRzCiAgICBpZiBnYW1lLnN1YmplY3QueCA8IDAgdGhlbgogICAgICAgIGdhbWUuc3ViamVjdC54ID0gMAogICAgZWxzZWlmIGdhbWUuc3ViamVjdC54ID4gNjQwIC0gZ2FtZS5zdWJqZWN0LncgdGhlbgogICAgICAgIGdhbWUuc3ViamVjdC54ID0gNjQwIC0gZ2FtZS5zdWJqZWN0LncKICAgIGVuZAplbmQKCmZ1bmN0aW9uIE1vdmVCYWxsKGdhbWUpCiAgICAtLSBVcGRhdGUgYmFsbCBwb3NpdGlvbgogICAgZ2FtZS5vYmplY3RzLmJhbGwueCA9IGdhbWUub2JqZWN0cy5iYWxsLnggKyBnYW1lLnN1YmplY3QuZGF0YS5iYWxsX2R4CiAgICBnYW1lLm9iamVjdHMuYmFsbC55ID0gZ2FtZS5vYmplY3RzLmJhbGwueSArIGdhbWUuc3ViamVjdC5kYXRhLmJhbGxfZHkKZW5kCgpmdW5jdGlvbiBDaGVja0NvbGxpc2lvbnMoZ2FtZSkKICAgIC0tIENoZWNrIGZvciB3YWxsIGNvbGxpc2lvbnMKICAgIGlmIGdhbWUub2JqZWN0cy5iYWxsLnggPD0gMCB0aGVuCiAgICAgICAgZ2FtZS5vYmplY3RzLmJhbGwueCA9IDAKICAgICAgICBnYW1lLnN1YmplY3QuZGF0YS5iYWxsX2R4ID0gbWF0aC5hYnMoZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9keCkKICAgIGVsc2VpZiBnYW1lLm9iamVjdHMuYmFsbC54ID49IDY0MCAtIGdhbWUub2JqZWN0cy5iYWxsLncgdGhlbgogICAgICAgIGdhbWUub2JqZWN0cy5iYWxsLnggPSA2NDAgLSBnYW1lLm9iamVjdHMuYmFsbC53CiAgICAgICAgZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9keCA9IC1tYXRoLmFicyhnYW1lLnN1YmplY3QuZGF0YS5iYWxsX2R4KQogICAgZW5kCiAgICAKICAgIGlmIGdhbWUub2JqZWN0cy5iYWxsLnkgPD0gMCB0aGVuCiAgICAgICAgZ2FtZS5vYmplY3RzLmJhbGwueSA9IDAKICAgICAgICBnYW1lLnN1YmplY3QuZGF0YS5iYWxsX2R5ID0gbWF0aC5hYnMoZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9keSkKICAgIGVuZAogICAgCiAgICAtLSBDaGVjayBmb3IgcGFkZGxlIGNvbGxpc2lvbgogICAgaWYgQ2hlY2tDb2xsaXNpb24oZ2FtZS5vYmplY3RzLmJhbGwsIGdhbWUuc3ViamVjdCkgYW5kIGdhbWUuc3ViamVjdC5kYXRhLmJhbGxfZHkgPiAwIHRoZW4KICAgICAgICAtLSBDYWxjdWxhdGUgYW5nbGUgYmFzZWQgb24gd2hlcmUgYmFsbCBoaXQgdGhlIHBhZGRsZQogICAgICAgIGxvY2FsIGhpdF9wb3MgPSAoZ2FtZS5vYmplY3RzLmJhbGwueCArIChnYW1lLm9iamVjdHMuYmFsbC53IC8gMikpIC0gZ2FtZS5zdWJqZWN0LngKICAgICAgICBsb2NhbCBub3JtYWxpemVkID0gKGhpdF9wb3MgLyBnYW1lLnN1YmplY3QudykgKiAyIC0gMQogICAgICAgIAogICAgICAgIGdhbWUuc3ViamVjdC5kYXRhLmJhbGxfZHggPSBub3JtYWxpemVkICogZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9zcGVlZAogICAgICAgIGdhbWUuc3ViamVjdC5kYXRhLmJhbGxfZHkgPSAtbWF0aC5hYnMoZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9keSkKICAgIGVuZAogICAgCiAgICAtLSBDaGVjayBmb3IgYnJpY2sgY29sbGlzaW9ucwogICAgZm9yIGlkLCBicmljayBpbiBwYWlycyhnYW1lLm9iamVjdHMpIGRvCiAgICAgICAgaWYgc3RyaW5nLnN1YihpZCwgMSwgNikgPT0gImJyaWNrXyIgYW5kIG5vdCBicmljay5oaWRkZW4gdGhlbgogICAgICAgICAgICBpZiBDaGVja0NvbGxpc2lvbihnYW1lLm9iamVjdHMuYmFsbCwgYnJpY2spIHRoZW4KICAgICAgICAgICAgICAgIC0tIEJyZWFrIHRoZSBicmljawogICAgICAgICAgICAgICAgYnJpY2suaGlkZGVuID0gdHJ1ZQogICAgICAgICAgICAgICAgZ2FtZS5zdWJqZWN0LmRhdGEuYnJpY2tzX2Jyb2tlbiA9IGdhbWUuc3ViamVjdC5kYXRhLmJyaWNrc19icm9rZW4gKyAxCiAgICAgICAgICAgICAgICBnYW1lLnN1YmplY3QuZGF0YS5zY29yZSA9IGdhbWUuc3ViamVjdC5kYXRhLnNjb3JlICsgMTAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLS0gRGV0ZXJtaW5lIGJvdW5jZSBkaXJlY3Rpb24gKHNpbXBsaWZpZWQpCiAgICAgICAgICAgICAgICBnYW1lLnN1YmplY3QuZGF0YS5iYWxsX2R5ID0gLWdhbWUuc3ViamVjdC5kYXRhLmJhbGxfZHkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYnJlYWsgLS0gT25seSBicmVhayBvbmUgYnJpY2sgcGVyIGZyYW1lCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCmVuZAoKZnVuY3Rpb24gQ2hlY2tDb2xsaXNpb24ob2JqMSwgb2JqMikKICAgIHJldHVybiBvYmoxLnggPCBvYmoyLnggKyBvYmoyLncgYW5kCiAgICAgICAgICAgb2JqMi54IDwgb2JqMS54ICsgb2JqMS53IGFuZAogICAgICAgICAgIG9iajEueSA8IG9iajIueSArIG9iajIuaCBhbmQKICAgICAgICAgICBvYmoyLnkgPCBvYmoxLnkgKyBvYmoxLmgKZW5kCgpmdW5jdGlvbiBSZXNldEdhbWUoZ2FtZSkKICAgIC0tIFJlc2V0IGdhbWUgc3RhdGUKICAgIGdhbWUuc3ViamVjdC5kYXRhLnN0YXRlID0gInN0YXJ0IgogICAgZ2FtZS5zdWJqZWN0LmRhdGEuc2NvcmUgPSAwCiAgICBnYW1lLnN1YmplY3QuZGF0YS5saXZlcyA9IDMKICAgIGdhbWUuc3ViamVjdC5kYXRhLmJyaWNrc19icm9rZW4gPSAwCiAgICBnYW1lLnN1YmplY3QuZGF0YS5iYWxsX2R4ID0gMAogICAgZ2FtZS5zdWJqZWN0LmRhdGEuYmFsbF9keSA9IDAKICAgIAogICAgLS0gUmVzZXQgYmFsbCBwb3NpdGlvbgogICAgZ2FtZS5vYmplY3RzLmJhbGwueCA9IGdhbWUuc3ViamVjdC54ICsgKGdhbWUuc3ViamVjdC53IC8gMikgLSA4CiAgICBnYW1lLm9iamVjdHMuYmFsbC55ID0gZ2FtZS5zdWJqZWN0LnkgLSAxNgogICAgCiAgICAtLSBSZXNldCBhbGwgYnJpY2tzCiAgICBmb3IgaWQsIGJyaWNrIGluIHBhaXJzKGdhbWUub2JqZWN0cykgZG8KICAgICAgICBpZiBzdHJpbmcuc3ViKGlkLCAxLCA2KSA9PSAiYnJpY2tfIiB0aGVuCiAgICAgICAgICAgIGJyaWNrLmhpZGRlbiA9IGZhbHNlCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBJc0tleVByZXNzZWQoa2V5cywga2V5Q29kZSkKICAgIGlmIGtleXMgPT0gbmlsIHRoZW4gcmV0dXJuIGZhbHNlIGVuZAogICAgCiAgICBmb3IgXywgayBpbiBwYWlycyhrZXlzKSBkbwogICAgICAgIGlmIGsgPT0ga2V5Q29kZSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICBlbmQKICAgIAogICAgcmV0dXJuIGZhbHNlCmVuZA=="
}
